<!doctype html>
<html class="no-js" lang="">

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title></title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link rel="manifest" href="site.webmanifest">
	<link rel="apple-touch-icon" href="icon.png">
	<style>
		table, th, td{
			border: 1px solid black;
		}
		.container{
			display:flex;
			flex-direction: column;
			justify-content: space-evenly;
		}
		img{
			height:35vh;
		}
	</style>
</head>

<body>
	<div id="title" class="container navigation">
		<h1>Simple ERS</h1>
	</div>
	<div id="login" class="container login"></div>
	<div id="managerMenu" class="container managerMenu" hidden></div>
	<div id="employeeMenu" class="container employeeMenu" hidden></div>

	<script type="text/javascript" src="http://code.jquery.com/jquery-2.2.4.min.js"></script>
	<script type="text/javascript" src="manager.js"></script>
	<script type="text/javascript" src="util.js"></script>
	<script type="text/javascript" src="login.js"></script>
	<script type="text/javascript" src="logout.js"></script>
	<script type="text/javascript" src="employee.js"></script>

	<script type="text/javascript">

		//state
		var state = {
			loggedin: '',
			activeRole: '',
			activeUser: '',
			tableView: "all"
		}

		//Controller
		const controller = () => {
			if (state.loggedIn) {
				if (!isManagerLog(state.activeUser.userRole)) {
					console.log("not a manager")
					employeeScreen();
				} else {
					console.log("is a manager")
				}
			}
		}

		//services
		const hideAll = () => {
			$("#login").html("");
			$("#employeeMenu").html("");
			$("#managerMenu").html("");
		}
		//document ready
		$("document").ready(() => {

			logout();
			//login Screen event handlers
			$("#login").on("click", "input[name = loginButton]", doLogin);
			$("#login").on("click", "#managerSelect", selectManager);
			$("#login").on("click", "#employeeSelect", selectEmployee);

			//employeeScreen buttons
			$("#employeeMenu").on("click", "#employeeEdit", employeeEdit);
			$("#employeeMenu").on("click", "#empInfoSubmit", empInfoSubmit);
			$("#employeeMenu").on("click", "#employeeReim", employeeScreen);
			$("#employeeMenu").on("click", "#employeeLogout", logout)
			$("#employeeMenu").on("click", "#submitReimbursement", submitReimbursement)
			$("#employeeMenu").on("click", "#empTableTitle", filterEmpTableView)
			$("#employeeMenu").on("change", ".addReciept", addReciept);

			//managerScreen buttons
			$("#managerMenu").on("click", "#managerLogout", logout);
			$("#managerMenu").on("click", "#empTable", viewEmployeeReimb);
			$("#managerMenu").on("click", ".reimDecision", changeDecision);
			$("#managerMenu").on("click", ".resolve", resolveDecision);
			$("#managerMenu").on("click", "#managerRefresh", managerScreen)

		})
	</script>
</body>

</html>